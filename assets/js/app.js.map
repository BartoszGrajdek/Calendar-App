{"version":3,"file":"app.js","sources":["webpack:///app.js"],"sourcesContent":["!function(e){var t={};function n(a){if(t[a])return t[a].exports;var s=t[a]={i:a,l:!1,exports:{}};return e[a].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var s in e)n.d(a,s,function(t){return e[t]}.bind(null,s));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"assets/js/\",n(n.s=0)}([function(e,t,n){\"use strict\";n.r(t);class a{render(e){console.log(\"Rendered day!\")}}class s{render(e){console.log(\"Rendered week!\")}}class d{render(e){console.log(\"Rendered month!\")}}class i{constructor(){this.todayDate=new Date,this.chosenDate=new Date(this.todayDate)}getDateString(e){return this.chosenDate.toLocaleDateString(void 0,e)}monthHandler(e,t){const n=new Date(t.getFullYear(),t.getMonth()+1,0).getDate(),a=new Date(t.getFullYear(),t.getMonth(),0).getDate(),s=new Date(t.getFullYear(),t.getMonth(),0).getDay();let d=7-new Date(t.getFullYear(),t.getMonth()+1,0).getDay();7===d&&(d=0);return{lastD:n,prevLastD:a,firstDIndex:s,nextD:d,w:Math.ceil((s+1+t.getDate())/7)}}}class r{constructor(e){this.date=new i,this.app=e}changeDate(e,t,n,a){let s=e;\"month\"===this.app.mode||a?-1===s?this.date.chosenDate.setMonth(this.date.chosenDate.getMonth()-1):1===s&&this.date.chosenDate.setMonth(this.date.chosenDate.getMonth()+1):\"day\"===this.app.mode?(s*=864e5,this.date.chosenDate=new Date(this.date.chosenDate.getTime()+s)):\"week\"===this.app.mode&&(s*=6048e5,this.date.chosenDate=new Date(this.date.chosenDate.getTime()+s)),n.innerHTML=this.date.getDateString(a?{year:\"numeric\",month:\"long\"}:{year:\"numeric\",month:\"long\",day:\"numeric\"})}}class c extends r{constructor(e){super(e),this.init()}init(){const e=document.querySelector(\"button.calendar__switch--left\"),t=e.nextElementSibling,n=document.querySelector(\".calendar__header\");e.addEventListener(\"click\",()=>{this.changeDate(-1,!0,n)}),t.addEventListener(\"click\",()=>{this.changeDate(1,!0,n)}),this.changeDate(0,!1,n)}render(e,t){let n;if(\"day\"===e)n=new a;else if(\"week\"===e)n=new s;else{if(\"month\"!==e)return void console.log(\"Wrong calendar mode!\");n=new d}n.render(this.date.chosenDate)}}class o extends r{constructor(e){super(e),this.init()}init(){const e=document.querySelector(\"button.side-calendar__switch--left\"),t=e.nextElementSibling,n=document.querySelector(\".side-calendar__month\");e.addEventListener(\"click\",()=>{this.changeDate(-1,!0,n,!0),this.render()}),t.addEventListener(\"click\",()=>{this.changeDate(1,!0,n,!0),this.render()}),this.changeDate(0,!0,n,!0),this.render()}render(){const e=document.querySelector(\".side-calendar__table\"),t=document.querySelector(\".side-calendar__week\"),n=this.date.chosenDate,a=this.date.todayDate,s=this.date.monthHandler(a,n),d=s.lastD,i=s.prevLastD,r=s.firstDIndex,c=s.nextD,o=s.w;let l='<div class=\"side-calendar__day--name\">Mon</div>\\n<div class=\"side-calendar__day--name\">Tue</div>\\n<div class=\"side-calendar__day--name\">Wed</div>\\n<div class=\"side-calendar__day--name\">Thu</div>\\n<div class=\"side-calendar__day--name\">Fri</div>\\n<div class=\"side-calendar__day--name\">Sat</div>\\n<div class=\"side-calendar__day--name\">Sun</div>';for(let e=r;e>0;e--)l+=`<div class=\"side-calendar__day--additional\">${i-e+1}</div>`;for(let e=1;e<=d;e++)e===(new Date).getDate()&&n.getMonth()===(new Date).getMonth()?l+=`<div class=\"side-calendar__day--active\">${e}</div>`:l+=`<div>${e}</div>`;for(let e=1;e<=c;e++)l+=`<div class=\"side-calendar__day--additional\">${e}</div>`;e.innerHTML=l,\"week\"!==this.app.mode&&\"month\"!==this.app.mode||n.getMonth()!==a.getMonth()||n.getFullYear()!==a.getFullYear()?t.style.display=\"none\":(t.style.display=\"block\",t.style.top=3.5*o+\"rem\")}}(class{static init(){this.app={mode:\"day\"};const e=new c(this.app);e.render(e.app.mode,e.date);const t=new o(this.app);this.render(e,t)}static render(e,t){const n=document.querySelector(\".side-calendar__button\"),a=n.nextElementSibling,s=a.nextElementSibling;n.addEventListener(\"click\",()=>{n.classList.remove(\"side-calendar__button--right\"),n.classList.add(\"side-calendar__button--active\"),a.classList.remove(\"side-calendar__button--active\"),s.classList.remove(\"side-calendar__button--active\"),s.classList.add(\"side-calendar__button--left\"),this.app.mode=\"day\",e.render(this.app.mode),t.render()}),a.addEventListener(\"click\",()=>{n.classList.remove(\"side-calendar__button--right\",\"side-calendar__button--active\"),a.classList.add(\"side-calendar__button--active\"),s.classList.remove(\"side-calendar__button--active\",\"side-calendar__button--left\"),this.app.mode=\"week\",e.render(this.app.mode),t.render()}),s.addEventListener(\"click\",()=>{n.classList.remove(\"side-calendar__button--active\"),n.classList.add(\"side-calendar__button--right\"),a.classList.remove(\"side-calendar__button--active\"),s.classList.remove(\"side-calendar__button--left\"),s.classList.add(\"side-calendar__button--active\"),this.app.mode=\"month\",e.render(this.app.mode),t.render()})}}).init()}]);"],"mappings":"AAAA","sourceRoot":""}