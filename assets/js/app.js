!function(e){var t={};function a(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,a),s.l=!0,s.exports}a.m=e,a.c=t,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)a.d(n,s,function(t){return e[t]}.bind(null,s));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="assets/js/",a(a.s=0)}([function(e,t,a){"use strict";a.r(t),a.d(t,"eventListJSON",(function(){return g}));class n{constructor(e){this.calendar=document.querySelector(".calendar"),this.calendarTable=this.calendar.querySelector(".calendar__table"),this.calendarTableBox=this.calendar.querySelector(".calendar__table-box"),this.app=e,this.initRender(this.app)}initRender(){function e(e,t,a){e.classList.remove(t+"--day",t+"--week",t+"--month"),e.classList.add(`${t}--${a}`)}e(this.calendar,"calendar",this.app.mode),e(this.calendarTable,"calendar__table",this.app.mode)}calendarRender(e){let t="";if(this.calendarTableBox.innerHTML="",this.calendarTable.innerHTML="","day"===this.app.mode){t+='<table class="calendar__table calendar__table--day">';for(let e=1;e<25;e++){t+=`\n        <tr class="calendar__row">\n          <th>${e<=12?e+"am":e-12+"pm"}</th>\n          <td></td>\n        </tr>\n        `}t+="\n        </table>\n        \x3c!-- CALENDAR TABLE --\x3e\n      "}else if("week"===this.app.mode){let a=e.weekHandler(e.todayDate,e.chosenDate),n=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"];t+='\n        <table class="calendar__labels">\n        <tr class="calendar__row">\n        <th>&nbsp;</th>\n      ';for(let e=0;e<7;e++)t+=`\n          <td class="calendar__label"><span class="calendar__day--name">${n[e]}</span><span class="calendar__day ${e===a[7]-1?"calendar__day--active":""}">${a[e]}</span></td>\n        `;t+='\n          </tr>\n        </table>\n        \x3c!-- CALENDAR LABELS --\x3e\n        <table class="calendar__table calendar__table--week">\n      ';for(let e=1;e<25;e++){t+=`\n        <tr class="calendar__row">\n          <th>${e<=12?e+"am":e-12+"pm"}</th>\n          <td></td>\n          <td></td>\n          <td></td>\n          <td></td>\n          <td></td>\n          <td></td>\n          <td></td>\n        </tr>\n        `}t+="\n        </table>\n        \x3c!-- CALENDAR TABLE --\x3e\n      "}else if("month"===this.app.mode){let a=e.monthHandler(e.todayDate,e.chosenDate);const n=a.lastD,s=a.prevLastD,d=a.firstDIndex,r=a.nextD;t='\n        <div class="calendar__labels">\n          <div class="calendar__table--day">Mon</div>\n          <div class="calendar__table--day">Tue</div>\n          <div class="calendar__table--day">Wed</div>\n          <div class="calendar__table--day">Thu</div>\n          <div class="calendar__table--day">Fri</div>\n          <div class="calendar__table--day">Sat</div>\n          <div class="calendar__table--day">Sun</div>\n        </div>\n        \x3c!-- CALENDAR LABELS --\x3e\n        \n        <div class="calendar__table">\n      ';for(let e=d;e>0;e--)t+=`<div class="calendar__table--additional">${s-e+1}</div>`;for(let a=1;a<=n;a++)a===e.todayDate.getDate()&&e.chosenDate.getMonth()===e.todayDate.getMonth()?t+=`<div class="calendar__table--active"><span>${a}</span></div>`:t+=`<div>${a}</div>`;for(let e=1;e<=r;e++)t+=`<div class="calendar__table--additional">${e}</div>`;t+="\n        </div>\n        \x3c!-- CALENDAR TABLE --\x3e\n      "}this.calendarTableBox.innerHTML=t}}class s extends n{constructor(e){super(e)}render(e){this.calendarRender(e)}}class d extends n{constructor(e){super(e)}render(e){this.calendarRender(e)}}class r extends n{constructor(e){super(e)}render(e){this.calendarRender(e)}}class i{constructor(){this.todayDate=new Date,this.chosenDate=new Date(this.todayDate)}getDateString(e){return this.chosenDate.toLocaleDateString(void 0,e)}weekHandler(e,t){let a=[];const n=new Date(t.getFullYear(),t.getMonth()+1,0).getDate();for(let e=t.getDate();e<=n&&a.length<7;e++)a.push(e);for(let e=1;a.length<7;e++)a.push(e);return t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()&&e.getDate()-t.getDate()<7&&e.getDate()-t.getDate()>=0?a.push(0===e.getDay()?7:e.getDay()-1):a.push(-1),a}monthHandler(e,t){const a=new Date(t.getFullYear(),t.getMonth()+1,0).getDate(),n=new Date(t.getFullYear(),t.getMonth(),0).getDate(),s=new Date(t.getFullYear(),t.getMonth(),0).getDay();let d=7-new Date(t.getFullYear(),t.getMonth()+1,0).getDay();7===d&&(d=0);return{lastD:a,prevLastD:n,firstDIndex:s,nextD:d,w:Math.ceil((s+t.getDate())/7)}}}class l{constructor(e){this.date=new i,this.app=e}changeDate(e,t,a,n){let s=e;"month"===this.app.mode||n?-1===s?this.date.chosenDate.setMonth(this.date.chosenDate.getMonth()-1):1===s&&this.date.chosenDate.setMonth(this.date.chosenDate.getMonth()+1):"day"===this.app.mode?(s*=864e5,this.date.chosenDate=new Date(this.date.chosenDate.getTime()+s)):"week"===this.app.mode&&(s*=6048e5,this.date.chosenDate=new Date(this.date.chosenDate.getTime()+s)),a.innerHTML=this.date.getDateString("day"!==this.app.mode||n?{year:"numeric",month:"long"}:{year:"numeric",month:"long",day:"numeric"})}}class o{constructor(e){this.start=e.start,this.end=e.end,this.title=e.title,this.isSecond=e.isSecond}getDifference(){let e=this.end.getHours()-this.start.getHours();const t=this.end.getMinutes()-this.start.getMinutes();let a;return t>=0?a=t:(e+=Math.floor(Math.abs(t)/60),a=t%60),(60*e+t)/60}}class c{constructor(e,t){this.id=e.id,this.name=e.name,this.isEnabled=e.isEnabled,this.color=t,this.events=[],this.init(e)}init(e){for(const t of e.events)this.events.push(new o(t))}render(e,t){const a=document.querySelector(".calendar__table"),n=e.chosenDate;let s=[];const d=n.getFullYear(),r=n.getMonth(),i=n.getDate();if("day"===t){console.log("It's day mode!");for(const e of this.events)e.start.getFullYear()===d&&e.start.getMonth()===r&&e.start.getDate()===i&&s.push(e);const e=a.querySelectorAll(".calendar__row"),t=e[0].offsetHeight;let n=0;for(const a of s){const s=a.start.toLocaleTimeString(void 0,{hourCycle:"h12",hour:"numeric",minute:"2-digit"})+" - "+a.end.toLocaleTimeString(void 0,{hourCycle:"h12",hour:"numeric",minute:"2-digit"}),d=a.start.getMinutes()/60,r=a.getDifference(),i=t*d+"px",l=t*r+"px";let o="";a.isSecond&&(o="event--second");let c="";r>=1&&(c="<h5 class='event__hours'>"+s+"</h5>"),e[a.start.getHours()].querySelector("td").innerHTML+=`\n          <div class="event event--day event--${this.color} ${o}" style="top: ${i}; height: ${l}">\n            ${c}\n            <h3 class="event__title">${a.title}</h3>\n          </div>\n        `,n++}}else if("week"===t){console.log("It's week mode!");const e=i,t=i+7;for(const a of this.events)a.start.getFullYear()===d&&a.start.getMonth()===r&&a.start.getDate()>=e&&a.start.getDate()<=t&&s.push(a);const n=a.querySelectorAll(".calendar__row"),l=n[0].offsetHeight;let o=0;for(const e of s){const t=e.start.toLocaleTimeString(void 0,{hourCycle:"h12",hour:"numeric",minute:"2-digit"})+" - "+e.end.toLocaleTimeString(void 0,{hourCycle:"h12",hour:"numeric",minute:"2-digit"}),a=e.start.getMinutes()/60,s=e.getDifference(),d=l*a+"px",r=l*s+"px";let i="";s>=1&&(i="<h5 class='event__hours'>"+t+"</h5>");n[e.start.getHours()].querySelectorAll("td")[0===e.start.getDay()?6:e.start.getDay()-1].innerHTML+=`\n          <div class="event event--week event--${this.color}" style="top: ${d}; height: ${r}">\n            ${i}\n            <h3 class="event__title">${e.title}</h3>\n          </div>\n        `,o++}}else"month"===t&&console.log("It's month mode!")}}class h{constructor(e,t){this.date=e,this.mode=t,this.eventLists=[],this.init()}init(){let e;e=(window.innerWidth>0?window.innerWidth:screen.width)<800?document.querySelector(".categories--mobile"):document.querySelector(".categories--desktop");const t=["green","purple","blue","yellow"];let a="";const n=e.querySelector(".categories__list");for(let e of g){this.eventLists.push(new c(e,t[e.id-1]));const n=e.isEnabled?"checked":"";a+=`<div class="categories__item">\n          <label class="categories__label checkbox__label" for="${e.id}">\n            <input type="checkbox" id="${e.id}" class="categories__checkbox checkbox" name="category" ${n}>\n            <span class="categories__checkmark checkbox__checkmark checkbox__checkmark--${t[e.id-1]}">&nbsp;</span>\n            <span class="checkbox__text">${e.name}</span>\n          </label>\n          <span class="categories__progress-bar categories__progress-bar--${t[e.id-1]}">&nbsp;</span>\n        </div>`}a+='<button class="categories__button"><span>+</span> Add more</button>',n.innerHTML=a;n.querySelectorAll(".categories__item").forEach(e=>{e.addEventListener("change",e=>{const t=e.target.id;this.eventLists[t-1].isEnabled=!this.eventLists[t-1].isEnabled,this.render()})})}render(e=this.date,t=this.mode){for(const e of document.querySelectorAll(".calendar__table .calendar__row td"))e.innerHTML="";for(const a of this.eventLists)a.isEnabled&&a.render(e,t)}}class u extends l{constructor(e){super(e),this.init(),this.eventHandler=new h(this.date,this.app.mode)}init(){const e=document.querySelector("button.calendar__switch--left"),t=e.nextElementSibling,a=document.querySelector(".calendar__header");e.addEventListener("click",()=>{this.changeDate(-1,!0,a),this.render()}),t.addEventListener("click",()=>{this.changeDate(1,!0,a),this.render()}),this.changeDate(0,!1,a)}render(){let e;if("day"===this.app.mode)e=new s(this.app);else if("week"===this.app.mode)e=new d(this.app);else{if("month"!==this.app.mode)return void console.log("Wrong calendar mode!");e=new r(this.app)}this.changeDate(0,!0,document.querySelector(".calendar__header")),e.render(this.date),this.eventHandler.render(this.date,this.app.mode)}}class D extends l{constructor(e){super(e),this.init()}init(){const e=document.querySelector("button.side-calendar__switch--left"),t=e.nextElementSibling,a=document.querySelector(".side-calendar__month");e.addEventListener("click",()=>{this.changeDate(-1,!0,a,!0),this.render()}),t.addEventListener("click",()=>{this.changeDate(1,!0,a,!0),this.render()}),this.changeDate(0,!0,a,!0),this.render()}render(){const e=document.querySelector(".side-calendar__table"),t=document.querySelector(".side-calendar__week"),a=this.date.chosenDate,n=this.date.todayDate,s=this.date.monthHandler(n,a),d=s.lastD,r=s.prevLastD,i=s.firstDIndex,l=s.nextD,o=s.w;let c='<div class="side-calendar__day--name">Mon</div>\n<div class="side-calendar__day--name">Tue</div>\n<div class="side-calendar__day--name">Wed</div>\n<div class="side-calendar__day--name">Thu</div>\n<div class="side-calendar__day--name">Fri</div>\n<div class="side-calendar__day--name">Sat</div>\n<div class="side-calendar__day--name">Sun</div>';for(let e=i;e>0;e--)c+=`<div class="side-calendar__day--additional">${r-e+1}</div>`;for(let e=1;e<=d;e++)e===(new Date).getDate()&&a.getMonth()===(new Date).getMonth()?c+=`<div class="side-calendar__day--active">${e}</div>`:c+=`<div>${e}</div>`;for(let e=1;e<=l;e++)c+=`<div class="side-calendar__day--additional">${e}</div>`;e.innerHTML=c,"week"!==this.app.mode&&"month"!==this.app.mode||a.getMonth()!==n.getMonth()||a.getFullYear()!==n.getFullYear()?t.style.display="none":(t.style.display="block",t.style.top=3.5*o+"rem")}}let g=[{id:1,name:"Work",events:[{start:new Date(2021,(new Date).getMonth(),(new Date).getDate(),1,0),end:new Date(2021,(new Date).getMonth(),(new Date).getDate(),2,0),title:"Send mail"},{start:new Date(2021,(new Date).getMonth(),(new Date).getDate(),7,0),end:new Date(2021,(new Date).getMonth(),(new Date).getDate(),9,20),title:"Send mail"},{start:new Date(2021,(new Date).getMonth(),(new Date).getDate(),18,0),end:new Date(2021,(new Date).getMonth(),(new Date).getDate(),18,40),title:"Send mail",isSecond:!0},{start:new Date(2021,(new Date).getMonth(),(new Date).getDate(),20,0),end:new Date(2021,(new Date).getMonth(),(new Date).getDate(),21,30),title:"Send mail",isSecond:!0}],isEnabled:!0},{id:2,name:"Guitar",events:[{start:new Date(2021,(new Date).getMonth(),(new Date).getDate(),10,0),end:new Date(2021,(new Date).getMonth(),(new Date).getDate(),11,50),title:"Learn new chords"},{start:new Date(2021,(new Date).getMonth(),(new Date).getDate(),14,0),end:new Date(2021,(new Date).getMonth(),(new Date).getDate(),18,15),title:"Learn new chords"},{start:new Date(2021,(new Date).getMonth(),(new Date).getDate(),20,0),end:new Date(2021,(new Date).getMonth(),(new Date).getDate(),21,50),title:"Learn new chords"}],isEnabled:!0},{id:3,name:"Home",events:[{start:new Date(2021,(new Date).getMonth(),(new Date).getDate()-1,9,0),end:new Date(2021,(new Date).getMonth(),(new Date).getDate()-1,12,30),title:"Clean up",isSecond:!0},{start:new Date(2021,(new Date).getMonth(),(new Date).getDate(),15,0),end:new Date(2021,(new Date).getMonth(),(new Date).getDate(),16,20),title:"Clean up",isSecond:!0},{start:new Date(2021,(new Date).getMonth(),(new Date).getDate(),22,0),end:new Date(2021,(new Date).getMonth(),(new Date).getDate(),23,0),title:"Clean up"}],isEnabled:!0}];(class{static init(){this.app={mode:"day"};const e=new u(this.app);e.render(e.app.mode,e.date);const t=new D(this.app);this.render(e,t)}static render(e,t){const a=document.querySelector(".side-calendar__button"),n=a.nextElementSibling,s=n.nextElementSibling;a.addEventListener("click",()=>{a.classList.remove("side-calendar__button--right"),a.classList.add("side-calendar__button--active"),n.classList.remove("side-calendar__button--active"),s.classList.remove("side-calendar__button--active"),s.classList.add("side-calendar__button--left"),this.app.mode="day",e.render(this.app.mode),t.render()}),n.addEventListener("click",()=>{a.classList.remove("side-calendar__button--right","side-calendar__button--active"),n.classList.add("side-calendar__button--active"),s.classList.remove("side-calendar__button--active","side-calendar__button--left"),this.app.mode="week",e.date.chosenDate=new Date(e.date.chosenDate.getFullYear(),e.date.chosenDate.getMonth(),e.date.chosenDate.getDate()-e.date.chosenDate.getDay()+1),e.render(this.app.mode),t.render()}),s.addEventListener("click",()=>{a.classList.remove("side-calendar__button--active"),a.classList.add("side-calendar__button--right"),n.classList.remove("side-calendar__button--active"),s.classList.remove("side-calendar__button--left"),s.classList.add("side-calendar__button--active"),this.app.mode="month",e.render(this.app.mode),t.render()})}}).init()}]);
//# sourceMappingURL=app.js.map